# Homework 3: Priority-Based Scheduling in xv6

**Students:** [Your Name], [Partner Name]  
**NetIDs:** [Your NetID], [Partner NetID]  
**Date:** [Submission Date]

---

## Overview

This project implements:
- **Task 1:** Nice system call (20 points)
- **Task 2:** Priority-based scheduler (80 points)
- **Extra Credit:** Priority inheritance (50 points)

---

## Modified Files

### Task 1:
- proc.h, proc.c, sysproc.c, syscall.h, syscall.c, user.h, usys.S, defs.h, Makefile
- nice.c (new)

### Task 2:
- proc.c (scheduler function)
- test1.c, test2.c, test3.c (new)
- Makefile

### Extra Credit:
- proc.h, proc.c, sysproc.c, syscall.h, syscall.c, user.h, usys.S, defs.h, Makefile
- test4.c, test5.c, test6.c (new)

---

## Build and Run

```bash
cd xv6-public
make clean
make
make qemu-nox
```

Exit: `Ctrl+A` then `X`

---

## Running Tests

### Task 1 - Nice:
```bash
$ nice 1 4       # Set process 1 priority to 4
$ nice 2         # Set current process priority to 2
```

### Task 2 - Scheduler:
```bash
$ test1          # Prime number finder
$ test2          # I/O vs CPU test
$ test3          # Turnaround time test
```

### Extra Credit - Locks:
```bash
$ test4          # Basic lock functionality
$ test5          # Priority inversion demo
$ test6          # Priority inheritance solution
```

---

## Test Descriptions

**test1:** 3 processes (priorities 1,3,5) find primes. Priority 1 finishes first.

**test2:** CPU-bound (priority 1) vs I/O-bound (priority 5). Shows scheduling with blocking.

**test3:** 5 processes (priorities 1-5). Measures turnaround time. Lower priority = longer time.

**test4:** Tests lock acquire/release, invalid IDs, process waiting.

**test5:** Demonstrates priority inversion - high priority blocked by low priority.

**test6:** Demonstrates priority inheritance - low priority inherits high priority to finish quickly.

---

## Implementation Details

**Priority:** 1 (highest) to 5 (lowest), default 3

**Scheduler:** Selects lowest priority number (highest priority) RUNNABLE process

**Locks:** 8 locks (IDs 0-7), automatic priority inheritance when waiting

**Priority Inheritance:** Low-priority holder inherits waiter's priority, restored on release

---

## Authors

[Your Name] - [Your NetID]  
[Partner Name] - [Partner NetID]
